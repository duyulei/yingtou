webpackJsonp([3],{"7OnB":function(t,o){},"8eho":function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=e("mvHQ"),n=e.n(i),s=e("Z2Kc"),a=(Number,Number,Boolean,Boolean,{name:"grid",methods:{countColumn:function(){this.childrenSize=this.$children.length,this.$children.forEach(function(t,o){return t.index=o})}},props:{rows:{type:Number,validator:function(){return!0}},cols:{type:Number},showLrBorders:{type:Boolean,default:!0},showVerticalDividers:{type:Boolean,default:!0}},computed:{column:function(){return this.cols||this.childrenSize}},data:function(){return{childrenSize:3}}}),r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"weui-grids",class:{"vux-grid-no-lr-borders":!this.showLrBorders}},[this._t("default")],2)},staticRenderFns:[]};var l=e("VU/8")(a,r,!1,function(t){e("xy87")},null,null).exports,u=e("7+S+"),h={name:"grid-item",props:["icon","label","link"],created:function(){this.$parent.countColumn()},mounted:function(){this.$slots.icon&&(this.hasIconSlot=!0),this.$slots.label&&(this.hasLabelSlot=!0)},destroyed:function(){this.$parent.countColumn()},computed:{isLast:function(){return!((this.index+1)%this.$parent.column)},style:function(){var t=this.$parent.column;if(t&&3!==t){var o={};return o.width=100/t+"%",o}}},methods:{onClick:function(){this.$emit("on-item-click"),Object(u.a)(this.link,this.$router)}},data:function(){return{index:0,hasIconSlot:!1,hasLabelSlot:!1}}},c={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("a",{staticClass:"weui-grid",class:{"vux-grid-item-no-border":t.isLast&&!t.$parent.showLrBorders||!t.isLast&&!t.$parent.showVerticalDividers},style:t.style,attrs:{href:"javascript:;"},on:{click:t.onClick}},[t.hasIconSlot||t.icon?e("div",{staticClass:"weui-grid__icon"},[t._t("icon",[e("img",{attrs:{src:t.icon,alt:""}})])],2):t._e(),t._v(" "),t.hasLabelSlot||t.label?e("p",{staticClass:"weui-grid__label"},[t._t("label",[e("span",{domProps:{innerHTML:t._s(t.label)}})])],2):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var d=e("VU/8")(h,c,!1,function(t){e("IhNN")},null,null).exports,p=e("IXui"),m=e("fZjL"),v=e.n(m),f=e("pFYg"),w=e.n(f),k=e("KTwD"),y="object"===("undefined"==typeof window?"undefined":w()(window));y&&(window.__$vuxPopups=window.__$vuxPopups||{});var g=function(t){var o=this;if(y){this.uuid=Math.random().toString(36).substring(3,8),this.params={},"[object Object]"===Object.prototype.toString.call(t)&&(this.params={hideOnBlur:t.hideOnBlur,onOpen:t.onOpen||function(){},onClose:t.onClose||function(){},showMask:t.showMask}),!!document.querySelectorAll(".vux-popup-mask").length<=0&&(this.divMask=document.createElement("a"),this.divMask.className="vux-popup-mask",this.divMask.dataset.uuid="",this.divMask.href="javascript:void(0)",document.body.appendChild(this.divMask));var e=void 0;(e=t.container?t.container:document.createElement("div")).className+=" vux-popup-dialog vux-popup-dialog-"+this.uuid,this.params.hideOnBlur||(e.className+=" vux-popup-mask-disabled"),this.div=e,t.container||document.body.appendChild(e),this.container=document.querySelector(".vux-popup-dialog-"+this.uuid),this.mask=document.querySelector(".vux-popup-mask"),this.mask.dataset.uuid+=","+this.uuid,this._bindEvents(),t=null,this.containerHandler=function(){o.mask&&!/show/.test(o.mask.className)&&setTimeout(function(){!/show/.test(o.mask.className)&&(o.mask.style.zIndex=-1)},200)},this.container&&this.container.addEventListener("webkitTransitionEnd",this.containerHandler),this.container&&this.container.addEventListener("transitionend",this.containerHandler)}};g.prototype.onClickMask=function(){this.params.hideOnBlur&&this.params.onClose()},g.prototype._bindEvents=function(){this.params.hideOnBlur&&(this.mask.addEventListener("click",this.onClickMask.bind(this),!1),this.mask.addEventListener("touchmove",function(t){return t.preventDefault()},!!k&&{passive:!1}))},g.prototype.show=function(){this.params.showMask&&(this.mask.classList.add("vux-popup-show"),this.mask.style.zIndex=500),this.container.classList.add("vux-popup-show"),this.params.onOpen&&this.params.onOpen(this),y&&(window.__$vuxPopups[this.uuid]=1)},g.prototype.hide=function(){var t=this,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.container.classList.remove("vux-popup-show"),document.querySelector(".vux-popup-dialog.vux-popup-show")||(this.mask.classList.remove("vux-popup-show"),setTimeout(function(){t.mask&&!/show/.test(t.mask.className)&&(t.mask.style.zIndex=-1)},400)),!1===o&&this.params.onClose&&this.params.hideOnBlur&&this.params.onClose(this),this.isShow=!1,y&&delete window.__$vuxPopups[this.uuid]},g.prototype.destroy=function(){this.mask.dataset.uuid=this.mask.dataset.uuid.replace(new RegExp(","+this.uuid,"g"),""),this.mask.dataset.uuid?this.hide():(this.mask.removeEventListener("click",this.onClickMask.bind(this),!1),this.mask&&this.mask.parentNode&&this.mask.parentNode.removeChild(this.mask)),this.container.removeEventListener("webkitTransitionEnd",this.containerHandler),this.container.removeEventListener("transitionend",this.containerHandler),y&&delete window.__$vuxPopups[this.uuid]};var S=g,_=e("NlBL"),x=(Boolean,String,String,Boolean,Boolean,Boolean,String,String,Object,Boolean,Boolean,Boolean,{name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var t=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var o=t;t.popup=new S({showMask:o.showMask,container:o.$el,hideOnBlur:o.hideOnBlur,onOpen:function(){o.fixSafariOverflowScrolling("auto"),o.show=!0},onClose:function(){o.show=!1,window.__$vuxPopups&&v()(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){o.fixSafariOverflowScrolling("touch")},300)}}),t.value&&t.popup.show(),t.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(t){if(this.$overflowScrollingList.length)for(var o=0;o<this.$overflowScrollingList.length;o++)this.$overflowScrollingList[o].style.webkitOverflowScrolling=t},removeModalClassName:function(){"VIEW_BOX"===this.layout&&_.a.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&_.a.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var t=this;this.$nextTick(function(){t.$el.scrollTop=0;var o=t.$el.querySelectorAll(".vux-scrollable");if(o.length)for(var e=0;e<o.length;e++)o[e].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var t={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?t.width=this.width:t.height=this.height,this.maxHeight&&(t["max-height"]=this.maxHeight),this.isTransparent&&(t.background="transparent"),this.popupStyle)for(var o in this.popupStyle)t[o]=this.popupStyle[o];return t}},watch:{value:function(t){this.show=t},show:function(t){var o=this;this.$emit("input",t),t?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){o.scrollTop(),o.shouldRenderBody=!0,o.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||o.fixSafariOverflowScrolling("touch"),o.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}),b={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("transition",{attrs:{name:"vux-popup-animate-"+t.position}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show&&!t.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+t.position,t.show?"vux-popup-show":""],style:t.styles},[t.shouldRenderBody?t._t("default"):t._e()],2)])},staticRenderFns:[]};var O=e("VU/8")(x,b,!1,function(t){e("KzkU")},null,null).exports,B=(s.a,p.a,{name:"login-view",components:{XHeader:s.a,Grid:l,GridItem:d,XButton:p.a,Popup:O},data:function(){return{token:localStorage.getItem("accountToken"),showActionSheet:!1,menus:{menu:"退出登录"},websocket:"",commodity_list:[1,2]}},created:function(){this.init()},mounted:function(){var t=this;window.onbeforeunload=function(){t.websocket.close()}},destroyed:function(){this.websocket.close()},methods:{init:function(){"WebSocket"in window&&(this.websocket=new WebSocket("ws://quote.vs.com:8888"));var t=this;this.websocket.onmessage=function(o){"on_rsp_commodity_list"===JSON.parse(o.data).method&&(t.commodity_list=JSON.parse(o.data).data.commodity_list)},this.websocket.onclose=function(o){t.websocket=new WebSocket("ws://quote.vs.com:8888")},this.websocket.onopen=function(o){t.websocket.send(n()({method:"req_login",req_id:"1231",data:{user_name:"chenlin",password:"a123456",protoc_version:"2.0"}})),t.websocket.send(n()({method:"req_commodity_list",req_id:"1231",data:{}}))}},goLogin:function(){this.$router.push({path:"/login"})},loginOut:function(){this.showActionSheet=!1,this.$store.commit("clearAccountToken"),this.$router.push({path:"/login"})}}}),$={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"login-view"},[e("x-header",{staticClass:"header",attrs:{"left-options":{showBack:!1},"right-options":{showMore:t.token}},on:{"on-click-more":function(o){t.showActionSheet=!0}}},[t.token?t._e():e("x-button",{attrs:{slot:"right",mini:"",plain:"",type:"primary"},nativeOn:{click:function(o){t.goLogin()}},slot:"right"},[t._v("登录")]),t._v("首页")],1),t._v(" "),e("div",{staticClass:"con"},[e("grid",{staticClass:"grid-center",attrs:{cols:3,"show-lr-borders":!0,"show-vertical-dividers":!0}},t._l(t.commodity_list,function(o,i){return 0!==i&&1!==i&&2!==i?e("grid-item",{key:i,attrs:{label:o.commodity_name,link:{path:"/data/more",query:{securityType:o.security_type,commodityNo:o.commodity_no,mainContractNo:o.main_contract_no,commodityName:o.commodity_name}}}}):t._e()}))],1),t._v(" "),e("popup",{attrs:{position:"bottom"},model:{value:t.showActionSheet,callback:function(o){t.showActionSheet=o},expression:"showActionSheet"}},[e("div",{staticClass:"popup-con"},[e("div",{on:{click:function(o){t.loginOut()}}},[t._v("退出登录")])])])],1)},staticRenderFns:[]};var C=e("VU/8")(B,$,!1,function(t){e("7OnB"),e("BFiT")},"data-v-45920563",null);o.default=C.exports},BFiT:function(t,o){},IhNN:function(t,o){},KTwD:function(t,o){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,i)}catch(t){}t.exports=e},KzkU:function(t,o){},mvHQ:function(t,o,e){t.exports={default:e("qkKv"),__esModule:!0}},qkKv:function(t,o,e){var i=e("FeBl"),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},xy87:function(t,o){}});
//# sourceMappingURL=3.a0c484eef8824053a039.js.map